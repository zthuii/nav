import{a as Rt}from"./chunk-VK2NIZJT.js";import{a as ut}from"./chunk-HGF7MWKB.js";import{q as Ft,r as jt,u as Lt}from"./chunk-YMYX5MJ3.js";import{Ea as Wt}from"./chunk-5JOR4YOQ.js";import{Ac as xt,Ba as H,Ca as yt,Cb as D,Da as vt,Ib as E,Ld as rt,Mc as Et,Nc as kt,Ob as P,Pb as v,Pc as Nt,Qb as R,a as pt,ac as f,bc as m,cc as A,d as ie,dc as St,ec as $t,ee as Yt,f as Dt,fe as zt,gc as _t,he as Ht,jc as nt,lc as I,mb as It,od as ft,pd as Z,qb as c,qc as it,qe as _,rc as ot,sc as at,vb as mt,wc as Tt,xc as u,xd as G,yc as C,zc as $}from"./chunk-66KCKOMY.js";var wt=ie((Ct,Mt)=>{"use strict";(function(o,n){typeof Ct=="object"&&typeof Mt<"u"?Mt.exports=n():typeof define=="function"&&define.amd?define(n):(o=typeof globalThis<"u"?globalThis:o||self).dayjs=n()})(Ct,function(){"use strict";var o=1e3,n=6e4,e=36e5,t="millisecond",g="second",O="minute",Y="hour",k="day",W="week",T="month",X="quarter",z="year",j="date",Ot="Invalid Date",Kt=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,te=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,ee={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(d){var r=["th","st","nd","rd"],i=d%100;return"["+d+(r[(i-20)%10]||r[i]||r[0])+"]"}},gt=function(d,r,i){var s=String(d);return!s||s.length>=r?d:""+Array(r+1-s.length).join(i)+d},ne={s:gt,z:function(d){var r=-d.utcOffset(),i=Math.abs(r),s=Math.floor(i/60),a=i%60;return(r<=0?"+":"-")+gt(s,2,"0")+":"+gt(a,2,"0")},m:function d(r,i){if(r.date()<i.date())return-d(i,r);var s=12*(i.year()-r.year())+(i.month()-r.month()),a=r.clone().add(s,T),l=i-a<0,p=r.clone().add(s+(l?-1:1),T);return+(-(s+(i-a)/(l?a-p:p-a))||0)},a:function(d){return d<0?Math.ceil(d)||0:Math.floor(d)},p:function(d){return{M:T,y:z,w:W,d:k,D:j,h:Y,m:O,s:g,ms:t,Q:X}[d]||String(d||"").toLowerCase().replace(/s$/,"")},u:function(d){return d===void 0}},K="en",V={};V[K]=ee;var Pt="$isDayjsObject",ht=function(d){return d instanceof dt||!(!d||!d[Pt])},ct=function d(r,i,s){var a;if(!r)return K;if(typeof r=="string"){var l=r.toLowerCase();V[l]&&(a=l),i&&(V[l]=i,a=l);var p=r.split("-");if(!a&&p.length>1)return d(p[0])}else{var y=r.name;V[y]=r,a=y}return!s&&a&&(K=a),a||!s&&K},M=function(d,r){if(ht(d))return d.clone();var i=typeof r=="object"?r:{};return i.date=d,i.args=arguments,new dt(i)},h=ne;h.l=ct,h.i=ht,h.w=function(d,r){return M(d,{locale:r.$L,utc:r.$u,x:r.$x,$offset:r.$offset})};var dt=function(){function d(i){this.$L=ct(i.locale,null,!0),this.parse(i),this.$x=this.$x||i.x||{},this[Pt]=!0}var r=d.prototype;return r.parse=function(i){this.$d=function(s){var a=s.date,l=s.utc;if(a===null)return new Date(NaN);if(h.u(a))return new Date;if(a instanceof Date)return new Date(a);if(typeof a=="string"&&!/Z$/i.test(a)){var p=a.match(Kt);if(p){var y=p[2]-1||0,x=(p[7]||"0").substring(0,3);return l?new Date(Date.UTC(p[1],y,p[3]||1,p[4]||0,p[5]||0,p[6]||0,x)):new Date(p[1],y,p[3]||1,p[4]||0,p[5]||0,p[6]||0,x)}}return new Date(a)}(i),this.init()},r.init=function(){var i=this.$d;this.$y=i.getFullYear(),this.$M=i.getMonth(),this.$D=i.getDate(),this.$W=i.getDay(),this.$H=i.getHours(),this.$m=i.getMinutes(),this.$s=i.getSeconds(),this.$ms=i.getMilliseconds()},r.$utils=function(){return h},r.isValid=function(){return this.$d.toString()!==Ot},r.isSame=function(i,s){var a=M(i);return this.startOf(s)<=a&&a<=this.endOf(s)},r.isAfter=function(i,s){return M(i)<this.startOf(s)},r.isBefore=function(i,s){return this.endOf(s)<M(i)},r.$g=function(i,s,a){return h.u(i)?this[s]:this.set(a,i)},r.unix=function(){return Math.floor(this.valueOf()/1e3)},r.valueOf=function(){return this.$d.getTime()},r.startOf=function(i,s){var a=this,l=!!h.u(s)||s,p=h.p(i),y=function(Q,S){var L=h.w(a.$u?Date.UTC(a.$y,S,Q):new Date(a.$y,S,Q),a);return l?L:L.endOf(k)},x=function(Q,S){return h.w(a.toDate()[Q].apply(a.toDate("s"),(l?[0,0,0,0]:[23,59,59,999]).slice(S)),a)},w=this.$W,b=this.$M,N=this.$D,q="set"+(this.$u?"UTC":"");switch(p){case z:return l?y(1,0):y(31,11);case T:return l?y(1,b):y(0,b+1);case W:var J=this.$locale().weekStart||0,tt=(w<J?w+7:w)-J;return y(l?N-tt:N+(6-tt),b);case k:case j:return x(q+"Hours",0);case Y:return x(q+"Minutes",1);case O:return x(q+"Seconds",2);case g:return x(q+"Milliseconds",3);default:return this.clone()}},r.endOf=function(i){return this.startOf(i,!1)},r.$set=function(i,s){var a,l=h.p(i),p="set"+(this.$u?"UTC":""),y=(a={},a[k]=p+"Date",a[j]=p+"Date",a[T]=p+"Month",a[z]=p+"FullYear",a[Y]=p+"Hours",a[O]=p+"Minutes",a[g]=p+"Seconds",a[t]=p+"Milliseconds",a)[l],x=l===k?this.$D+(s-this.$W):s;if(l===T||l===z){var w=this.clone().set(j,1);w.$d[y](x),w.init(),this.$d=w.set(j,Math.min(this.$D,w.daysInMonth())).$d}else y&&this.$d[y](x);return this.init(),this},r.set=function(i,s){return this.clone().$set(i,s)},r.get=function(i){return this[h.p(i)]()},r.add=function(i,s){var a,l=this;i=Number(i);var p=h.p(s),y=function(b){var N=M(l);return h.w(N.date(N.date()+Math.round(b*i)),l)};if(p===T)return this.set(T,this.$M+i);if(p===z)return this.set(z,this.$y+i);if(p===k)return y(1);if(p===W)return y(7);var x=(a={},a[O]=n,a[Y]=e,a[g]=o,a)[p]||1,w=this.$d.getTime()+i*x;return h.w(w,this)},r.subtract=function(i,s){return this.add(-1*i,s)},r.format=function(i){var s=this,a=this.$locale();if(!this.isValid())return a.invalidDate||Ot;var l=i||"YYYY-MM-DDTHH:mm:ssZ",p=h.z(this),y=this.$H,x=this.$m,w=this.$M,b=a.weekdays,N=a.months,q=a.meridiem,J=function(S,L,et,lt){return S&&(S[L]||S(s,l))||et[L].slice(0,lt)},tt=function(S){return h.s(y%12||12,S,"0")},Q=q||function(S,L,et){var lt=S<12?"AM":"PM";return et?lt.toLowerCase():lt};return l.replace(te,function(S,L){return L||function(et){switch(et){case"YY":return String(s.$y).slice(-2);case"YYYY":return h.s(s.$y,4,"0");case"M":return w+1;case"MM":return h.s(w+1,2,"0");case"MMM":return J(a.monthsShort,w,N,3);case"MMMM":return J(N,w);case"D":return s.$D;case"DD":return h.s(s.$D,2,"0");case"d":return String(s.$W);case"dd":return J(a.weekdaysMin,s.$W,b,2);case"ddd":return J(a.weekdaysShort,s.$W,b,3);case"dddd":return b[s.$W];case"H":return String(y);case"HH":return h.s(y,2,"0");case"h":return tt(1);case"hh":return tt(2);case"a":return Q(y,x,!0);case"A":return Q(y,x,!1);case"m":return String(x);case"mm":return h.s(x,2,"0");case"s":return String(s.$s);case"ss":return h.s(s.$s,2,"0");case"SSS":return h.s(s.$ms,3,"0");case"Z":return p}return null}(S)||p.replace(":","")})},r.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},r.diff=function(i,s,a){var l,p=this,y=h.p(s),x=M(i),w=(x.utcOffset()-this.utcOffset())*n,b=this-x,N=function(){return h.m(p,x)};switch(y){case z:l=N()/12;break;case T:l=N();break;case X:l=N()/3;break;case W:l=(b-w)/6048e5;break;case k:l=(b-w)/864e5;break;case Y:l=b/e;break;case O:l=b/n;break;case g:l=b/o;break;default:l=b}return a?l:h.a(l)},r.daysInMonth=function(){return this.endOf(T).$D},r.$locale=function(){return V[this.$L]},r.locale=function(i,s){if(!i)return this.$L;var a=this.clone(),l=ct(i,s,!0);return l&&(a.$L=l),a},r.clone=function(){return h.w(this.$d,this)},r.toDate=function(){return new Date(this.valueOf())},r.toJSON=function(){return this.isValid()?this.toISOString():null},r.toISOString=function(){return this.$d.toISOString()},r.toString=function(){return this.$d.toUTCString()},d}(),bt=dt.prototype;return M.prototype=bt,[["$ms",t],["$s",g],["$m",O],["$H",Y],["$W",k],["$M",T],["$y",z],["$D",j]].forEach(function(d){bt[d[1]]=function(r){return this.$g(r,d[0],d[1])}}),M.extend=function(d,r){return d.$i||(d(r,dt,M),d.$i=!0),M},M.locale=ct,M.isDayjs=ht,M.unix=function(d){return M(1e3*d)},M.en=V[K],M.Ls=V,M.p={},M})});var Vt=class o{data;date="";day="";week="";dayOfYear="";constructor(){let n=jt();this.date=_("_calendarDate",{year:n.year,month:n.month}),this.day=n.zeroDate,this.week=n.dayText,this.dayOfYear=_("_dayOfYear",{day:Ft()})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=D({type:o,selectors:[["app-calendar"]],inputs:{data:"data"},decls:11,vars:10,consts:[[1,"calendar","family","citems"],[1,"ctop"],[1,"box"],[1,"cday"],[1,"cdate"],[1,"mr-1.5"]],template:function(e,t){e&1&&(f(0,"div",0)(1,"div",1),u(2),m(),f(3,"div",2)(4,"div",3),u(5),m(),f(6,"div",4)(7,"span",5),u(8),m(),f(9,"span"),u(10),m()()()()),e&2&&(v("zoom",t.data.zoom),c(),v("background",t.data.topColor),c(),$(" ",t.date," "),c(),v("background",t.data.bgColor),c(2),C(t.day),c(3),C(t.dayOfYear),c(2),C(t.week))},styles:[".calendar[_ngcontent-%COMP%]{width:130px;height:var(--componentHeight);max-height:100%;border-radius:12px;text-align:center;overflow:hidden;color:#fff;box-shadow:0 0 8px #0006;display:flex;flex-direction:column}.calendar[_ngcontent-%COMP%]   .ctop[_ngcontent-%COMP%]{font-size:17px;height:40px;line-height:0;display:flex;align-items:center;justify-content:center;font-weight:500}.calendar[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{flex:1}.calendar[_ngcontent-%COMP%]   .cday[_ngcontent-%COMP%]{font-weight:700;font-size:40px;line-height:1;padding:24px 0 5px}.calendar[_ngcontent-%COMP%]   .cdate[_ngcontent-%COMP%]{color:#ffffffb3;font-size:13px}"]})};var Jt=class o{data;runDays=0;unit="";constructor(){let n=Date.now()-Ht.runtime;n=n<0?0:n;let e=Math.floor(n/(1e3*60*60*24*365));e>0?(this.runDays=e,this.unit=_("_year")):(this.runDays=Math.floor(n/(1e3*60*60*24)),this.unit=_("_day"))}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=D({type:o,selectors:[["app-runtime"]],inputs:{data:"data"},decls:9,vars:5,consts:[[1,"runtime","family","citems"],[1,"title"],[1,"days"],[1,"day"],[1,"unit"],["src","https://gcore.jsdelivr.net/gh/xjh22222228/public@gh-pages/nav/runtime.svg",1,"img"]],template:function(e,t){e&1&&(f(0,"div",0)(1,"div",1),u(2),m(),f(3,"div",2)(4,"span",3),u(5),m(),f(6,"span",4),u(7),m()(),A(8,"img",5),m()),e&2&&(v("zoom",t.data.zoom),c(2),C(t.data.title),c(3),C(t.runDays),c(2),C(t.unit))},styles:[".runtime[_ngcontent-%COMP%]{pointer-events:none;position:relative;width:230px;height:var(--componentHeight);max-height:100%;border-radius:12px;overflow:hidden;color:#fff;box-shadow:0 0 15px #0003;display:flex;justify-content:center;padding:30px;flex-direction:column;background:linear-gradient(135deg,#8bc6ec,#9599e2);font-weight:700}.runtime[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{z-index:2;position:relative;font-size:18px;color:#f9f6f6}.runtime[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]{z-index:2;position:relative;margin-top:10px;font-size:48px;line-height:1;color:#d67272}.runtime[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]{vertical-align:text-bottom}.runtime[_ngcontent-%COMP%]   .unit[_ngcontent-%COMP%]{font-size:15px;margin-left:2px;margin-bottom:2px;font-weight:500}.runtime[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{position:absolute;bottom:30px;right:30px;width:70px}"]})};function oe(o,n){if(o&1&&(f(0,"div",5),u(1),m()),o&2){let e=I();c(),C(e.countdownStr)}}function ae(o,n){o&1&&A(0,"img",6)}function re(o,n){o&1&&A(0,"img",6)}var Qt=class o{data;countdownStr="";isRest=!1;timer;constructor(){document.addEventListener("visibilitychange",this.visibilitychange.bind(this))}ngOnChanges(){clearTimeout(this.timer),this.init()}ngOnDestroy(){clearTimeout(this.timer),document.removeEventListener("visibilitychange",this.visibilitychange)}visibilitychange(n){n.target.hidden?clearTimeout(this.timer):this.init()}init(){if(this.data){let n=new Date,e=n.getTime(),t=new Date(this.data.startDate);t.setFullYear(n.getFullYear()),t.setMonth(n.getMonth()),t.setDate(n.getDate());let g=t.getTime(),O=new Date(this.data.date);O.setFullYear(n.getFullYear()),O.setMonth(n.getMonth()),O.setDate(n.getDate());let Y=O.getTime(),k=(Y-e)/1e3,W=k/(60*60),T=Math.floor(W%1*10)/10,X=Math.floor(k/60%60),z=Math.floor(k%60),j=Math.floor(W)+T;if(e>=g&&e<=Y)j>=1?this.countdownStr=_("_hours",{num:j}):X>0?this.countdownStr=_("_minutes",{num:X}):z>=0&&(this.countdownStr=_("_seconds",{num:z}));else return this.isRest=!0,clearTimeout(this.timer);this.isRest=!1}this.timer=setTimeout(()=>this.init(),1e3)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=D({type:o,selectors:[["app-offwork"]],inputs:{data:"data"},features:[H],decls:7,vars:8,consts:[["other",""],[1,"offwork","family","citems"],[1,"title"],["class","coutdown",4,"ngIf"],["src","https://gcore.jsdelivr.net/gh/xjh22222228/public@gh-pages/nav/rest.svg","class","img",4,"ngIf","ngIfElse"],[1,"coutdown"],["src","https://gcore.jsdelivr.net/gh/xjh22222228/public@gh-pages/nav/rest.svg",1,"img"]],template:function(e,t){if(e&1&&(f(0,"div",1)(1,"div",2),u(2),m(),E(3,oe,2,1,"div",3)(4,ae,1,0,"img",4)(5,re,1,0,"ng-template",null,0,Nt),m()),e&2){let g=Tt(6);v("zoom",t.data.zoom),R("rest",t.isRest),c(2),$(" ",t.isRest?t.data.restTitle:t.data.workTitle," "),c(),P("ngIf",!t.isRest),c(),P("ngIf",t.isRest)("ngIfElse",g)}},dependencies:[G,Z],styles:[".offwork[_ngcontent-%COMP%]{pointer-events:none;position:relative;width:170px;height:var(--componentHeight);max-height:100%;border-radius:12px;overflow:hidden;box-shadow:0 0 15px #0003;display:flex;align-items:center;flex-direction:column;font-weight:700;background-color:#fff}.offwork.rest[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:22px;color:#666}.offwork[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-top:20px;z-index:2;position:relative;font-size:14px;color:gray;text-align:center}.offwork[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{position:absolute;left:0;bottom:0;width:100%}.offwork[_ngcontent-%COMP%]   .coutdown[_ngcontent-%COMP%]{z-index:2;position:relative;font-size:24px;color:#666}"]})};var Bt=class o{constructor(n){this.jumpService=n}data;static \u0275fac=function(e){return new(e||o)(mt(ut))};static \u0275cmp=D({type:o,selectors:[["app-image"]],inputs:{data:"data"},decls:3,vars:7,consts:[[1,"cimage","family","citems",3,"click"],[1,"text"]],template:function(e,t){e&1&&(f(0,"div",0),nt("click",function(O){return t.jumpService.goUrl(O,t.data.go)}),f(1,"div",1),u(2),m()()),e&2&&(v("background-image",t.data.url&&"url("+t.data.url+")")("zoom",t.data.zoom),R("cursor-pointer",t.data.go),c(2),C(t.data.text))},styles:[".cimage[_ngcontent-%COMP%]{position:relative;width:170px;height:var(--componentHeight);max-height:100%;border-radius:12px;overflow:hidden;color:#fff;box-shadow:0 0 15px #0003;background-size:cover}.cimage[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:absolute;bottom:5px;left:0;width:100%;font-size:12px;text-align:center;font-weight:500}"]})};var st=Dt(wt(),1);var Ut=class o{data;component={};constructor(){}ngOnInit(){this.init()}ngOnChanges(){this.init()}init(){let n={};this.data.date&&(n.dateStr=(0,st.default)(this.data.date).format("YYYY.MM.DD"),n.dayStr=(0,st.default)((0,st.default)(this.data.date).format("YYYY-MM-DD")).diff((0,st.default)().format("YYYY-MM-DD"),"day"),n.dayStr=n.dayStr<0?0:n.dayStr,n.dayStr=n.dayStr>9999?9999:n.dayStr),this.component=n}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=D({type:o,selectors:[["app-countdown"]],inputs:{data:"data"},features:[H],decls:8,vars:15,consts:[[1,"holiday","family","citems"],[1,"top"],[1,"box"],[1,"days"],[1,"date"]],template:function(e,t){e&1&&(f(0,"div",0)(1,"div",1),u(2),m(),f(3,"div",2)(4,"div",3),u(5),m(),f(6,"div",4),u(7),m()()()),e&2&&(v("zoom",t.data.zoom),c(),v("background",t.data.topColor),c(),$(" ",t.data.title," "),c(),v("background-image",t.data.url&&"url("+t.data.url+")")("background-color",t.data.bgColor),c(),v("color",t.data.dayColor),c(),$(" ",t.component.dayStr," "),c(),v("color",t.data.dateColor),c(),$(" - ",t.component.dateStr," - "))},styles:[".holiday[_ngcontent-%COMP%]{position:relative;width:160px;height:var(--componentHeight);max-height:100%;border-radius:12px;overflow:hidden;color:#fff;box-shadow:0 0 15px #0003;display:flex;flex-direction:column;text-align:center}.holiday[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{padding:6px 10px;font-weight:500}.holiday[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{position:relative;flex:1;background-size:cover}.holiday[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]{font-weight:700;font-size:50px;margin-top:16px}.holiday[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{position:absolute;bottom:5px;left:0;width:100%;font-weight:500}"]})};var ce=["root"],qt=class o{data;root;parseDescriptionTimer;html="";constructor(){}ngOnChanges(){this.init(),this.parseDescription()}ngOnDestroy(){clearTimeout(this.parseDescriptionTimer)}init(){this.html=zt(`!${this.data.html}`)}parseDescription(){clearTimeout(this.parseDescriptionTimer),this.parseDescriptionTimer=setTimeout(()=>{Yt(this.root?.nativeElement,`!${this.html}`)},300)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=D({type:o,selectors:[["app-html"]],viewQuery:function(e,t){if(e&1&&it(ce,5),e&2){let g;ot(g=at())&&(t.root=g.first)}},inputs:{data:"data"},features:[H],decls:3,vars:9,consts:[["root",""],[1,"html","family","citems",3,"innerHTML"]],template:function(e,t){e&1&&(A(0,"div",1,0),Et(2,"safeHtml")),e&2&&(v("zoom",t.data.zoom)("width",t.data.width+"px")("background",t.data.bgColor),P("innerHTML",kt(2,7,t.html),It))},dependencies:[Rt],styles:[".html[_ngcontent-%COMP%]{position:relative;height:var(--componentHeight)!important;max-height:100%;border-radius:12px;overflow:hidden;box-shadow:0 0 15px #0003;overflow-wrap:break-word}"]})};var F=Dt(wt(),1);function de(o,n){if(o&1&&(f(0,"span",10),u(1),m()),o&2){let e=I(2);c(),C(e.$t("_rest"))}}function le(o,n){if(o&1&&(St(0),u(1),$t()),o&2){let e=I(2);c(),$("- ",e.items[0].afterDay,"")}}function pe(o,n){if(o&1&&(f(0,"span",10),u(1),m()),o&2){let e=I(3);c(),C(e.$t("_rest"))}}function me(o,n){if(o&1&&(f(0,"div",14),u(1),m()),o&2){let e=I().$implicit,t=I(2);c(),xt(" ",e.diffDay,"",t.$t("_day")," ")}}function fe(o,n){if(o&1&&(f(0,"div",11)(1,"div",12),u(2),E(3,pe,2,1,"span",6),m(),E(4,me,2,2,"div",13),m()),o&2){let e=n.$implicit;c(2),xt(" ",e.title," ",e.dateStr,""),c(),P("ngIf",e.day>0),c(),P("ngIf",e.diffDay>0)}}function ue(o,n){if(o&1&&(f(0,"div",1)(1,"div",2)(2,"div",3),u(3),m(),f(4,"div",4),u(5),m(),f(6,"div",5),E(7,de,2,1,"span",6),f(8,"span"),u(9),E(10,le,2,1,"ng-container",7),m()()(),f(11,"div",8),E(12,fe,5,4,"div",9),m()()),o&2){let e=I();v("zoom",e.data.zoom),c(),R("today",e.items[0].isToday||e.items[0].isRest),c(2),$(" ",e.items[0].isToday||e.items[0].isRest?e.$t("_dayIs"):e.$t("_distance")+e.items[0].title," "),c(2),C(e.items[0].diffStr),c(2),P("ngIf",e.items[0].day>0),c(2),$("",e.items[0].dateStr," "),c(),P("ngIf",e.items[0].afterDay),c(2),P("ngForOf",e.items)}}var Zt=class o{data;items=[];$t=_;constructor(){}ngOnChanges(){this.init()}init(){let n={},e=(0,F.default)((0,F.default)().format("YYYY-MM-DD"));this.data.items&&(n=[...this.data.items].filter(t=>{t.date=(0,F.default)(t.date).format("YYYY-MM-DD");let g=(0,F.default)(t.date);return t.day>0&&(g=g.add(t.day-1,"day")),!g.isBefore(e)}).slice(0,4).map(t=>(t.dateStr=(0,F.default)(t.date).format("MM.DD"),t.diffDay=(0,F.default)((0,F.default)(t.date).format("YYYY-MM-DD")).diff(e,"day"),t.diffDay=t.diffDay<0?0:t.diffDay,t.diffDay=t.diffDay>999?999:t.diffDay,t.diffStr=t.diffDay,t.day>0&&(t.afterDay=(0,F.default)(t.date).add(t.day-1,"day").format("MM.DD"),t.afterDay===t.dateStr&&(t.afterDay=null)),t.isToday=t.dateStr===(0,F.default)().format("MM.DD"),t.diffDay<=0&&(t.isToday?t.diffStr=t.title:(t.isRest=!0,t.diffStr="\u4F11\u606F\u65E5")),t))),this.items=n}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=D({type:o,selectors:[["app-holiday"]],inputs:{data:"data"},features:[H],decls:1,vars:1,consts:[["class","holiday family citems",3,"zoom",4,"ngIf"],[1,"holiday","family","citems"],[1,"left"],[1,"title"],[1,"days"],[1,"flex","items-center","justify-center","whitespace-nowrap"],["class","tag",4,"ngIf"],[4,"ngIf"],[1,"right"],["class","items",4,"ngFor","ngForOf"],[1,"tag"],[1,"items"],[1,"cleft"],["class","cright",4,"ngIf"],[1,"cright"]],template:function(e,t){e&1&&E(0,ue,13,10,"div",0),e&2&&P("ngIf",t.items.length)},dependencies:[G,ft,Z],styles:[".holiday[_ngcontent-%COMP%]{position:relative;width:320px;height:var(--componentHeight);max-height:100%;border-radius:12px;overflow:hidden;box-shadow:0 0 15px #0003;display:flex;background-color:#fff;color:#666}.holiday[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:500;font-size:16px}.holiday[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{width:140px;padding:12px 0 12px 12px;display:flex;flex-direction:column}.holiday[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]{font-size:46px;text-align:center;font-weight:700;color:#000000d9;flex:1;display:flex;align-items:center;justify-content:center}.holiday[_ngcontent-%COMP%]   .left.today[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]{font-size:30px}.holiday[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{background-color:#dffcea;color:#55aa6f;font-size:10px;font-weight:500;padding:1px 2px;border-radius:2px;display:inline-flex;align-items:center;justify-content:center;margin-right:3px;margin-left:2px}.holiday[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{flex:1;padding:12px}.holiday[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:4px 0;color:#000c}.holiday[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]:not(:nth-last-child(1)){margin-bottom:3px;border-bottom:1px solid #eee}.holiday[_ngcontent-%COMP%]   .cleft[_ngcontent-%COMP%]{position:relative;white-space:nowrap;display:flex;align-items:center}.holiday[_ngcontent-%COMP%]   .cleft[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{position:absolute;top:50%;left:-5px;transform:translate(-100%,-50%)}.holiday[_ngcontent-%COMP%]   .cright[_ngcontent-%COMP%]{font-weight:500}"]})};var Gt={1:_("_weibo"),2:"V2EX",3:_("_douyin"),4:_("_bilibili"),5:_("_juejin"),6:_("_baidu"),7:"GitHub",8:_("_52"),9:_("_hongshu")};var ge=["parent"],he=["item"];function ye(o,n){if(o&1){let e=_t();f(0,"div",8,1),nt("mouseenter",function(){let g=yt(e).index,O=I();return vt(O.onMouseEnter(g))}),u(2),m()}if(o&2){let e=n.$implicit,t=n.index,g=I();R("active",t===g.activeIndex),c(2),$(" ",g.newsTypeMap[e]," ")}}function ve(o,n){if(o&1&&(f(0,"div",9),u(1),m()),o&2){let e=I();c(),C(e.$t("_noNews"))}}function _e(o,n){if(o&1&&(f(0,"span",14),u(1),m()),o&2){let e=I().$implicit;c(),C(e.hot)}}function xe(o,n){if(o&1){let e=_t();f(0,"div",10),nt("click",function(g){let O=yt(e).$implicit,Y=I();return vt(Y.jumpService.goUrl(g,O.url))}),f(1,"span",11),u(2),m(),f(3,"span",12),u(4),m(),E(5,_e,2,1,"span",13),m()}if(o&2){let e=n.$implicit,t=n.index;c(2),C(t+1),c(2),C(e.text),c(),P("ngIf",e.hot)}}var Xt=class o{constructor(n){this.jumpService=n;let e=localStorage.getItem(rt.NEWS);if(e)try{this.newsListMap=JSON.parse(e)}catch{}}parentElement;items;data;$t=_;newsTypeMap=Gt;activeIndex=0;newsListMap={};get newsList(){let n=this.data.types;return this.newsListMap[n[this.activeIndex]]||[]}ngOnChanges(){this.getNews()}onMouseEnter(n){this.activeIndex=n,this.scrollIntoViewTabs()}scrollIntoViewTabs(){Lt(this.parentElement.nativeElement,this.items.toArray()[this.activeIndex].nativeElement,{behavior:"smooth"})}getNews(){let n=Date.now(),e=Number(localStorage.getItem(rt.NEWS_DATE));e&&n-e<36e5||Wt(pt({},this.data)).then(t=>{this.newsListMap=pt(pt({},this.newsListMap),t.data),localStorage.setItem(rt.NEWS,JSON.stringify(this.newsListMap)),localStorage.setItem(rt.NEWS_DATE,JSON.stringify(Date.now()))})}trackByItem(n,e){return e.text}static \u0275fac=function(e){return new(e||o)(mt(ut))};static \u0275cmp=D({type:o,selectors:[["app-news"]],viewQuery:function(e,t){if(e&1&&(it(ge,5),it(he,5)),e&2){let g;ot(g=at())&&(t.parentElement=g.first),ot(g=at())&&(t.items=g)}},inputs:{data:"data"},features:[H],decls:7,vars:6,consts:[["parent",""],["item",""],[1,"news","citems","family"],[1,"tabs","hidden-scrollbar"],["class","tab",3,"active","mouseenter",4,"ngFor","ngForOf"],[1,"content-box","hidden-scrollbar"],["class","nodata",4,"ngIf"],["class","content ellipsis",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"tab",3,"mouseenter"],[1,"nodata"],[1,"content","ellipsis",3,"click"],[1,"mr-2","n"],[1,"mid","ellipsis"],["class","ml-2.5",4,"ngIf"],[1,"ml-2.5"]],template:function(e,t){e&1&&(f(0,"div",2)(1,"div",3,0),E(3,ye,3,3,"div",4),m(),f(4,"div",5),E(5,ve,2,1,"div",6)(6,xe,6,3,"div",7),m()()),e&2&&(v("zoom",t.data.zoom),c(3),P("ngForOf",t.data.types),c(2),P("ngIf",t.newsList.length===0),c(),P("ngForOf",t.newsList)("ngForTrackBy",t.trackByItem))},dependencies:[G,ft,Z],styles:[".news[_ngcontent-%COMP%]{position:relative;width:310px;height:var(--componentHeight)!important;max-height:100%;border-radius:12px;overflow:hidden;box-shadow:0 0 15px #0003;background:linear-gradient(100deg,#2a2d38,#535a68);color:#fff;padding:10px 10px 0;font-size:12px;display:flex;flex-direction:column}.news[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{display:flex;column-gap:4px;white-space:nowrap;overflow:hidden;overflow-x:auto}.news[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{border-radius:4px;padding:2px 4px;cursor:pointer;transition:all .2s linear}.news[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{background-color:#fff2}.news[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%]{position:relative;flex:1;overflow:hidden;overflow-y:auto;padding:10px 0;color:#f1f1f1}.news[_ngcontent-%COMP%]   .nodata[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#aeaeae}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]:not(:last-child){margin-bottom:4px}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]:hover{opacity:.9}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]:nth-child(1)   .n[_ngcontent-%COMP%]{color:#fff}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]:nth-child(2)   .n[_ngcontent-%COMP%]{color:#ffffffe6}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]:nth-child(3)   .n[_ngcontent-%COMP%]{color:#fffc}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .mid[_ngcontent-%COMP%]{flex:1}.news[_ngcontent-%COMP%]   .n[_ngcontent-%COMP%]{color:#969c9c}"]})};export{Vt as a,Jt as b,Qt as c,Bt as d,wt as e,Ut as f,qt as g,Zt as h,Gt as i,Xt as j};
