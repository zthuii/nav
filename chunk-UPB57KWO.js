import{a as Vt}from"./chunk-6DVN55A3.js";import{a as ut}from"./chunk-QZ537VTE.js";import{q as jt,r as Rt,u as Wt}from"./chunk-44GKRUKL.js";import{Ea as Jt}from"./chunk-K3M5NAJD.js";import{Ac as xt,Ba as F,Ca as vt,Cb as O,Da as _t,Ea as St,Ib as N,Md as q,Nc as Et,Ob as P,Oc as Yt,Pb as _,Qb as W,Qc as zt,a as pt,ac as f,bc as m,cc as H,d as ae,dc as Tt,ec as Nt,f as It,fe as Ht,gc as Ct,ge as Ft,ie as Lt,jc as it,lc as I,mb as $t,pd as ft,qb as c,qc as ot,qd as Z,rc as at,re as v,sc as rt,vb as mt,wc as kt,xc as u,yc as x,yd as X,zc as S}from"./chunk-H2V5B6EF.js";var Ot=ae((Mt,wt)=>{"use strict";(function(i,n){typeof Mt=="object"&&typeof wt<"u"?wt.exports=n():typeof define=="function"&&define.amd?define(n):(i=typeof globalThis<"u"?globalThis:i||self).dayjs=n()})(Mt,function(){"use strict";var i=1e3,n=6e4,e=36e5,t="millisecond",g="second",b="minute",Y="hour",k="day",A="week",T="month",K="quarter",z="year",j="date",Pt="Invalid Date",ee=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,ne=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,ie={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(d){var r=["th","st","nd","rd"],o=d%100;return"["+d+(r[(o-20)%10]||r[o]||r[0])+"]"}},ht=function(d,r,o){var s=String(d);return!s||s.length>=r?d:""+Array(r+1-s.length).join(o)+d},oe={s:ht,z:function(d){var r=-d.utcOffset(),o=Math.abs(r),s=Math.floor(o/60),a=o%60;return(r<=0?"+":"-")+ht(s,2,"0")+":"+ht(a,2,"0")},m:function d(r,o){if(r.date()<o.date())return-d(o,r);var s=12*(o.year()-r.year())+(o.month()-r.month()),a=r.clone().add(s,T),l=o-a<0,p=r.clone().add(s+(l?-1:1),T);return+(-(s+(o-a)/(l?a-p:p-a))||0)},a:function(d){return d<0?Math.ceil(d)||0:Math.floor(d)},p:function(d){return{M:T,y:z,w:A,d:k,D:j,h:Y,m:b,s:g,ms:t,Q:K}[d]||String(d||"").toLowerCase().replace(/s$/,"")},u:function(d){return d===void 0}},tt="en",Q={};Q[tt]=ie;var bt="$isDayjsObject",yt=function(d){return d instanceof dt||!(!d||!d[bt])},ct=function d(r,o,s){var a;if(!r)return tt;if(typeof r=="string"){var l=r.toLowerCase();Q[l]&&(a=l),o&&(Q[l]=o,a=l);var p=r.split("-");if(!a&&p.length>1)return d(p[0])}else{var y=r.name;Q[y]=r,a=y}return!s&&a&&(tt=a),a||!s&&tt},M=function(d,r){if(yt(d))return d.clone();var o=typeof r=="object"?r:{};return o.date=d,o.args=arguments,new dt(o)},h=oe;h.l=ct,h.i=yt,h.w=function(d,r){return M(d,{locale:r.$L,utc:r.$u,x:r.$x,$offset:r.$offset})};var dt=function(){function d(o){this.$L=ct(o.locale,null,!0),this.parse(o),this.$x=this.$x||o.x||{},this[bt]=!0}var r=d.prototype;return r.parse=function(o){this.$d=function(s){var a=s.date,l=s.utc;if(a===null)return new Date(NaN);if(h.u(a))return new Date;if(a instanceof Date)return new Date(a);if(typeof a=="string"&&!/Z$/i.test(a)){var p=a.match(ee);if(p){var y=p[2]-1||0,C=(p[7]||"0").substring(0,3);return l?new Date(Date.UTC(p[1],y,p[3]||1,p[4]||0,p[5]||0,p[6]||0,C)):new Date(p[1],y,p[3]||1,p[4]||0,p[5]||0,p[6]||0,C)}}return new Date(a)}(o),this.init()},r.init=function(){var o=this.$d;this.$y=o.getFullYear(),this.$M=o.getMonth(),this.$D=o.getDate(),this.$W=o.getDay(),this.$H=o.getHours(),this.$m=o.getMinutes(),this.$s=o.getSeconds(),this.$ms=o.getMilliseconds()},r.$utils=function(){return h},r.isValid=function(){return this.$d.toString()!==Pt},r.isSame=function(o,s){var a=M(o);return this.startOf(s)<=a&&a<=this.endOf(s)},r.isAfter=function(o,s){return M(o)<this.startOf(s)},r.isBefore=function(o,s){return this.endOf(s)<M(o)},r.$g=function(o,s,a){return h.u(o)?this[s]:this.set(a,o)},r.unix=function(){return Math.floor(this.valueOf()/1e3)},r.valueOf=function(){return this.$d.getTime()},r.startOf=function(o,s){var a=this,l=!!h.u(s)||s,p=h.p(o),y=function(U,$){var R=h.w(a.$u?Date.UTC(a.$y,$,U):new Date(a.$y,$,U),a);return l?R:R.endOf(k)},C=function(U,$){return h.w(a.toDate()[U].apply(a.toDate("s"),(l?[0,0,0,0]:[23,59,59,999]).slice($)),a)},w=this.$W,D=this.$M,E=this.$D,G="set"+(this.$u?"UTC":"");switch(p){case z:return l?y(1,0):y(31,11);case T:return l?y(1,D):y(0,D+1);case A:var B=this.$locale().weekStart||0,et=(w<B?w+7:w)-B;return y(l?E-et:E+(6-et),D);case k:case j:return C(G+"Hours",0);case Y:return C(G+"Minutes",1);case b:return C(G+"Seconds",2);case g:return C(G+"Milliseconds",3);default:return this.clone()}},r.endOf=function(o){return this.startOf(o,!1)},r.$set=function(o,s){var a,l=h.p(o),p="set"+(this.$u?"UTC":""),y=(a={},a[k]=p+"Date",a[j]=p+"Date",a[T]=p+"Month",a[z]=p+"FullYear",a[Y]=p+"Hours",a[b]=p+"Minutes",a[g]=p+"Seconds",a[t]=p+"Milliseconds",a)[l],C=l===k?this.$D+(s-this.$W):s;if(l===T||l===z){var w=this.clone().set(j,1);w.$d[y](C),w.init(),this.$d=w.set(j,Math.min(this.$D,w.daysInMonth())).$d}else y&&this.$d[y](C);return this.init(),this},r.set=function(o,s){return this.clone().$set(o,s)},r.get=function(o){return this[h.p(o)]()},r.add=function(o,s){var a,l=this;o=Number(o);var p=h.p(s),y=function(D){var E=M(l);return h.w(E.date(E.date()+Math.round(D*o)),l)};if(p===T)return this.set(T,this.$M+o);if(p===z)return this.set(z,this.$y+o);if(p===k)return y(1);if(p===A)return y(7);var C=(a={},a[b]=n,a[Y]=e,a[g]=i,a)[p]||1,w=this.$d.getTime()+o*C;return h.w(w,this)},r.subtract=function(o,s){return this.add(-1*o,s)},r.format=function(o){var s=this,a=this.$locale();if(!this.isValid())return a.invalidDate||Pt;var l=o||"YYYY-MM-DDTHH:mm:ssZ",p=h.z(this),y=this.$H,C=this.$m,w=this.$M,D=a.weekdays,E=a.months,G=a.meridiem,B=function($,R,nt,lt){return $&&($[R]||$(s,l))||nt[R].slice(0,lt)},et=function($){return h.s(y%12||12,$,"0")},U=G||function($,R,nt){var lt=$<12?"AM":"PM";return nt?lt.toLowerCase():lt};return l.replace(ne,function($,R){return R||function(nt){switch(nt){case"YY":return String(s.$y).slice(-2);case"YYYY":return h.s(s.$y,4,"0");case"M":return w+1;case"MM":return h.s(w+1,2,"0");case"MMM":return B(a.monthsShort,w,E,3);case"MMMM":return B(E,w);case"D":return s.$D;case"DD":return h.s(s.$D,2,"0");case"d":return String(s.$W);case"dd":return B(a.weekdaysMin,s.$W,D,2);case"ddd":return B(a.weekdaysShort,s.$W,D,3);case"dddd":return D[s.$W];case"H":return String(y);case"HH":return h.s(y,2,"0");case"h":return et(1);case"hh":return et(2);case"a":return U(y,C,!0);case"A":return U(y,C,!1);case"m":return String(C);case"mm":return h.s(C,2,"0");case"s":return String(s.$s);case"ss":return h.s(s.$s,2,"0");case"SSS":return h.s(s.$ms,3,"0");case"Z":return p}return null}($)||p.replace(":","")})},r.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},r.diff=function(o,s,a){var l,p=this,y=h.p(s),C=M(o),w=(C.utcOffset()-this.utcOffset())*n,D=this-C,E=function(){return h.m(p,C)};switch(y){case z:l=E()/12;break;case T:l=E();break;case K:l=E()/3;break;case A:l=(D-w)/6048e5;break;case k:l=(D-w)/864e5;break;case Y:l=D/e;break;case b:l=D/n;break;case g:l=D/i;break;default:l=D}return a?l:h.a(l)},r.daysInMonth=function(){return this.endOf(T).$D},r.$locale=function(){return Q[this.$L]},r.locale=function(o,s){if(!o)return this.$L;var a=this.clone(),l=ct(o,s,!0);return l&&(a.$L=l),a},r.clone=function(){return h.w(this.$d,this)},r.toDate=function(){return new Date(this.valueOf())},r.toJSON=function(){return this.isValid()?this.toISOString():null},r.toISOString=function(){return this.$d.toISOString()},r.toString=function(){return this.$d.toUTCString()},d}(),Dt=dt.prototype;return M.prototype=Dt,[["$ms",t],["$s",g],["$m",b],["$H",Y],["$W",k],["$M",T],["$y",z],["$D",j]].forEach(function(d){Dt[d[1]]=function(r){return this.$g(r,d[0],d[1])}}),M.extend=function(d,r){return d.$i||(d(r,dt,M),d.$i=!0),M},M.locale=ct,M.isDayjs=yt,M.unix=function(d){return M(1e3*d)},M.en=Q[tt],M.Ls=Q,M.p={},M})});var At=class i{data;date="";day="";week="";dayOfYear="";constructor(){let n=Rt();this.date=v("_calendarDate",{year:n.year,month:n.month}),this.day=n.zeroDate,this.week=n.dayText,this.dayOfYear=v("_dayOfYear",{day:jt()})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=O({type:i,selectors:[["app-calendar"]],inputs:{data:"data"},decls:11,vars:10,consts:[[1,"calendar","family","citems"],[1,"ctop"],[1,"box"],[1,"cday"],[1,"cdate"],[1,"mr-1.5"]],template:function(e,t){e&1&&(f(0,"div",0)(1,"div",1),u(2),m(),f(3,"div",2)(4,"div",3),u(5),m(),f(6,"div",4)(7,"span",5),u(8),m(),f(9,"span"),u(10),m()()()()),e&2&&(_("zoom",t.data.zoom),c(),_("background",t.data.topColor),c(),S(" ",t.date," "),c(),_("background",t.data.bgColor),c(2),x(t.day),c(3),x(t.dayOfYear),c(2),x(t.week))},styles:[".calendar[_ngcontent-%COMP%]{width:130px;height:var(--componentHeight);max-height:100%;border-radius:12px;text-align:center;overflow:hidden;color:#fff;box-shadow:0 0 8px #0006;display:flex;flex-direction:column}.calendar[_ngcontent-%COMP%]   .ctop[_ngcontent-%COMP%]{font-size:17px;height:40px;line-height:0;display:flex;align-items:center;justify-content:center;font-weight:500}.calendar[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{flex:1}.calendar[_ngcontent-%COMP%]   .cday[_ngcontent-%COMP%]{font-weight:700;font-size:40px;line-height:1;padding:24px 0 5px}.calendar[_ngcontent-%COMP%]   .cdate[_ngcontent-%COMP%]{color:#ffffffb3;font-size:13px}"]})};var Qt=class i{data;runDays=0;unit="";constructor(){let n=Date.now()-Lt.runtime;n=n<0?0:n;let e=Math.floor(n/(1e3*60*60*24*365));e>0?(this.runDays=e,this.unit=v("_year")):(this.runDays=Math.floor(n/(1e3*60*60*24)),this.unit=v("_day"))}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=O({type:i,selectors:[["app-runtime"]],inputs:{data:"data"},decls:9,vars:5,consts:[[1,"runtime","family","citems"],[1,"title"],[1,"days"],[1,"day"],[1,"unit"],["src","https://gcore.jsdelivr.net/gh/xjh22222228/public@gh-pages/nav/runtime.svg",1,"img"]],template:function(e,t){e&1&&(f(0,"div",0)(1,"div",1),u(2),m(),f(3,"div",2)(4,"span",3),u(5),m(),f(6,"span",4),u(7),m()(),H(8,"img",5),m()),e&2&&(_("zoom",t.data.zoom),c(2),x(t.data.title),c(3),x(t.runDays),c(2),x(t.unit))},styles:[".runtime[_ngcontent-%COMP%]{pointer-events:none;position:relative;width:230px;height:var(--componentHeight);max-height:100%;border-radius:12px;overflow:hidden;color:#fff;box-shadow:0 0 15px #0003;display:flex;justify-content:center;padding:30px;flex-direction:column;background:linear-gradient(135deg,#8bc6ec,#9599e2);font-weight:700}.runtime[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{z-index:2;position:relative;font-size:18px;color:#f9f6f6}.runtime[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]{z-index:2;position:relative;margin-top:10px;font-size:48px;line-height:1;color:#d67272}.runtime[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]{vertical-align:text-bottom}.runtime[_ngcontent-%COMP%]   .unit[_ngcontent-%COMP%]{font-size:15px;margin-left:2px;margin-bottom:2px;font-weight:500}.runtime[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{position:absolute;bottom:30px;right:30px;width:70px}"]})};function re(i,n){if(i&1&&(f(0,"div",5),u(1),m()),i&2){let e=I();c(),x(e.countdownStr)}}function se(i,n){i&1&&H(0,"img",6)}function ce(i,n){i&1&&H(0,"img",6)}var Bt=class i{data;countdownStr="";isRest=!1;timer;constructor(){document.addEventListener("visibilitychange",this.visibilitychange.bind(this))}ngOnChanges(){clearTimeout(this.timer),this.init()}ngOnDestroy(){clearTimeout(this.timer),document.removeEventListener("visibilitychange",this.visibilitychange)}visibilitychange(n){n.target.hidden?clearTimeout(this.timer):this.init()}init(){if(this.data){let n=new Date,e=n.getTime(),t=new Date(this.data.startDate);t.setFullYear(n.getFullYear()),t.setMonth(n.getMonth()),t.setDate(n.getDate());let g=t.getTime(),b=new Date(this.data.date);b.setFullYear(n.getFullYear()),b.setMonth(n.getMonth()),b.setDate(n.getDate());let Y=b.getTime(),k=(Y-e)/1e3,A=k/(60*60),T=Math.floor(A%1*10)/10,K=Math.floor(k/60%60),z=Math.floor(k%60),j=Math.floor(A)+T;if(e>=g&&e<=Y)j>=1?this.countdownStr=v("_hours",{num:j}):K>0?this.countdownStr=v("_minutes",{num:K}):z>=0&&(this.countdownStr=v("_seconds",{num:z}));else return this.isRest=!0,clearTimeout(this.timer);this.isRest=!1}this.timer=setTimeout(()=>this.init(),1e3)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=O({type:i,selectors:[["app-offwork"]],inputs:{data:"data"},features:[F],decls:7,vars:8,consts:[["other",""],[1,"offwork","family","citems"],[1,"title"],["class","coutdown",4,"ngIf"],["src","https://gcore.jsdelivr.net/gh/xjh22222228/public@gh-pages/nav/rest.svg","class","img",4,"ngIf","ngIfElse"],[1,"coutdown"],["src","https://gcore.jsdelivr.net/gh/xjh22222228/public@gh-pages/nav/rest.svg",1,"img"]],template:function(e,t){if(e&1&&(f(0,"div",1)(1,"div",2),u(2),m(),N(3,re,2,1,"div",3)(4,se,1,0,"img",4)(5,ce,1,0,"ng-template",null,0,zt),m()),e&2){let g=kt(6);_("zoom",t.data.zoom),W("rest",t.isRest),c(2),S(" ",t.isRest?t.data.restTitle:t.data.workTitle," "),c(),P("ngIf",!t.isRest),c(),P("ngIf",t.isRest)("ngIfElse",g)}},dependencies:[X,Z],styles:[".offwork[_ngcontent-%COMP%]{pointer-events:none;position:relative;width:170px;height:var(--componentHeight);max-height:100%;border-radius:12px;overflow:hidden;box-shadow:0 0 15px #0003;display:flex;align-items:center;flex-direction:column;font-weight:700;background-color:#fff}.offwork.rest[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:22px;color:#666}.offwork[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-top:20px;z-index:2;position:relative;font-size:14px;color:gray;text-align:center}.offwork[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{position:absolute;left:0;bottom:0;width:100%}.offwork[_ngcontent-%COMP%]   .coutdown[_ngcontent-%COMP%]{z-index:2;position:relative;font-size:24px;color:#666}"]})};var qt=class i{constructor(n){this.jumpService=n}data;static \u0275fac=function(e){return new(e||i)(mt(ut))};static \u0275cmp=O({type:i,selectors:[["app-image"]],inputs:{data:"data"},decls:3,vars:7,consts:[[1,"cimage","family","citems",3,"click"],[1,"text"]],template:function(e,t){e&1&&(f(0,"div",0),it("click",function(b){return t.jumpService.goUrl(b,t.data.go)}),f(1,"div",1),u(2),m()()),e&2&&(_("background-image",t.data.url&&"url("+t.data.url+")")("zoom",t.data.zoom),W("cursor-pointer",t.data.go),c(2),x(t.data.text))},styles:[".cimage[_ngcontent-%COMP%]{position:relative;width:170px;height:var(--componentHeight);max-height:100%;border-radius:12px;overflow:hidden;color:#fff;box-shadow:0 0 15px #0003;background-size:cover}.cimage[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:absolute;bottom:5px;left:0;width:100%;font-size:12px;text-align:center;font-weight:500}"]})};var st=It(Ot(),1);var Gt=class i{data;component={};constructor(){}ngOnInit(){this.init()}ngOnChanges(){this.init()}init(){let n={};this.data.date&&(n.dateStr=(0,st.default)(this.data.date).format("YYYY.MM.DD"),n.dayStr=(0,st.default)((0,st.default)(this.data.date).format("YYYY-MM-DD")).diff((0,st.default)().format("YYYY-MM-DD"),"day"),n.dayStr=n.dayStr<0?0:n.dayStr,n.dayStr=n.dayStr>9999?9999:n.dayStr),this.component=n}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=O({type:i,selectors:[["app-countdown"]],inputs:{data:"data"},features:[F],decls:8,vars:15,consts:[[1,"holiday","family","citems"],[1,"top"],[1,"box"],[1,"days"],[1,"date"]],template:function(e,t){e&1&&(f(0,"div",0)(1,"div",1),u(2),m(),f(3,"div",2)(4,"div",3),u(5),m(),f(6,"div",4),u(7),m()()()),e&2&&(_("zoom",t.data.zoom),c(),_("background",t.data.topColor),c(),S(" ",t.data.title," "),c(),_("background-image",t.data.url&&"url("+t.data.url+")")("background-color",t.data.bgColor),c(),_("color",t.data.dayColor),c(),S(" ",t.component.dayStr," "),c(),_("color",t.data.dateColor),c(),S(" - ",t.component.dateStr," - "))},styles:[".holiday[_ngcontent-%COMP%]{position:relative;width:160px;height:var(--componentHeight);max-height:100%;border-radius:12px;overflow:hidden;color:#fff;box-shadow:0 0 15px #0003;display:flex;flex-direction:column;text-align:center}.holiday[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{padding:6px 10px;font-weight:500}.holiday[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{position:relative;flex:1;background-size:cover}.holiday[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]{font-weight:700;font-size:50px;margin-top:16px}.holiday[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{position:absolute;bottom:5px;left:0;width:100%;font-weight:500}"]})};var le=["root"],Zt=class i{data;root;parseDescriptionTimer;html="";constructor(){}ngOnChanges(){this.init(),this.parseDescription()}ngOnDestroy(){clearTimeout(this.parseDescriptionTimer)}init(){this.html=Ft(`!${this.data.html}`)}parseDescription(){clearTimeout(this.parseDescriptionTimer),this.parseDescriptionTimer=setTimeout(()=>{Ht(this.root?.nativeElement,`!${this.html}`)},300)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=O({type:i,selectors:[["app-html"]],viewQuery:function(e,t){if(e&1&&ot(le,5),e&2){let g;at(g=rt())&&(t.root=g.first)}},inputs:{data:"data"},features:[F],decls:3,vars:9,consts:[["root",""],[1,"html","family","citems",3,"innerHTML"]],template:function(e,t){e&1&&(H(0,"div",1,0),Et(2,"safeHtml")),e&2&&(_("zoom",t.data.zoom)("width",t.data.width+"px")("background",t.data.bgColor),P("innerHTML",Yt(2,7,t.html),$t))},dependencies:[Vt],styles:[".html[_ngcontent-%COMP%]{position:relative;height:var(--componentHeight)!important;max-height:100%;border-radius:12px;overflow:hidden;box-shadow:0 0 15px #0003;overflow-wrap:break-word}"]})};var L=It(Ot(),1);function pe(i,n){if(i&1&&(f(0,"span",10),u(1),m()),i&2){let e=I(2);c(),x(e.$t("_rest"))}}function me(i,n){if(i&1&&(Tt(0),u(1),Nt()),i&2){let e=I(2);c(),S("- ",e.items[0].afterDay,"")}}function fe(i,n){if(i&1&&(f(0,"span",10),u(1),m()),i&2){let e=I(3);c(),x(e.$t("_rest"))}}function ue(i,n){if(i&1&&(f(0,"div",14),u(1),m()),i&2){let e=I().$implicit,t=I(2);c(),xt(" ",e.diffDay,"",t.$t("_day")," ")}}function ge(i,n){if(i&1&&(f(0,"div",11)(1,"div",12),u(2),N(3,fe,2,1,"span",6),m(),N(4,ue,2,2,"div",13),m()),i&2){let e=n.$implicit;c(2),xt(" ",e.title," ",e.dateStr,""),c(),P("ngIf",e.day>0),c(),P("ngIf",e.diffDay>0)}}function he(i,n){if(i&1&&(f(0,"div",1)(1,"div",2)(2,"div",3),u(3),m(),f(4,"div",4),u(5),m(),f(6,"div",5),N(7,pe,2,1,"span",6),f(8,"span"),u(9),N(10,me,2,1,"ng-container",7),m()()(),f(11,"div",8),N(12,ge,5,4,"div",9),m()()),i&2){let e=I();_("zoom",e.data.zoom),c(),W("today",e.items[0].isToday||e.items[0].isRest),c(2),S(" ",e.items[0].isToday||e.items[0].isRest?e.$t("_dayIs"):e.$t("_distance")+e.items[0].title," "),c(2),x(e.items[0].diffStr),c(2),P("ngIf",e.items[0].day>0),c(2),S("",e.items[0].dateStr," "),c(),P("ngIf",e.items[0].afterDay),c(2),P("ngForOf",e.items)}}var Xt=class i{data;items=[];$t=v;constructor(){}ngOnChanges(){this.init()}init(){let n={},e=(0,L.default)((0,L.default)().format("YYYY-MM-DD"));this.data.items&&(n=[...this.data.items].filter(t=>{t.date=(0,L.default)(t.date).format("YYYY-MM-DD");let g=(0,L.default)(t.date);return t.day>0&&(g=g.add(t.day-1,"day")),!g.isBefore(e)}).slice(0,4).map(t=>(t.dateStr=(0,L.default)(t.date).format("MM.DD"),t.diffDay=(0,L.default)((0,L.default)(t.date).format("YYYY-MM-DD")).diff(e,"day"),t.diffDay=t.diffDay<0?0:t.diffDay,t.diffDay=t.diffDay>999?999:t.diffDay,t.diffStr=t.diffDay,t.day>0&&(t.afterDay=(0,L.default)(t.date).add(t.day-1,"day").format("MM.DD"),t.afterDay===t.dateStr&&(t.afterDay=null)),t.isToday=t.dateStr===(0,L.default)().format("MM.DD"),t.diffDay<=0&&(t.isToday?t.diffStr=t.title:(t.isRest=!0,t.diffStr="\u4F11\u606F\u65E5")),t))),this.items=n}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=O({type:i,selectors:[["app-holiday"]],inputs:{data:"data"},features:[F],decls:1,vars:1,consts:[["class","holiday family citems",3,"zoom",4,"ngIf"],[1,"holiday","family","citems"],[1,"left"],[1,"title"],[1,"days"],[1,"flex","items-center","justify-center","whitespace-nowrap"],["class","tag",4,"ngIf"],[4,"ngIf"],[1,"right"],["class","items",4,"ngFor","ngForOf"],[1,"tag"],[1,"items"],[1,"cleft"],["class","cright",4,"ngIf"],[1,"cright"]],template:function(e,t){e&1&&N(0,he,13,10,"div",0),e&2&&P("ngIf",t.items.length)},dependencies:[X,ft,Z],styles:[".holiday[_ngcontent-%COMP%]{position:relative;width:320px;height:var(--componentHeight);max-height:100%;border-radius:12px;overflow:hidden;box-shadow:0 0 15px #0003;display:flex;background-color:#fff;color:#666}.holiday[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:500;font-size:16px}.holiday[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{width:140px;padding:12px 0 12px 12px;display:flex;flex-direction:column}.holiday[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]{font-size:46px;text-align:center;font-weight:700;color:#000000d9;flex:1;display:flex;align-items:center;justify-content:center}.holiday[_ngcontent-%COMP%]   .left.today[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]{font-size:30px}.holiday[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{background-color:#dffcea;color:#55aa6f;font-size:10px;font-weight:500;padding:1px 2px;border-radius:2px;display:inline-flex;align-items:center;justify-content:center;margin-right:3px;margin-left:2px}.holiday[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{flex:1;padding:12px}.holiday[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:4px 0;color:#000c}.holiday[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]:not(:nth-last-child(1)){margin-bottom:3px;border-bottom:1px solid #eee}.holiday[_ngcontent-%COMP%]   .cleft[_ngcontent-%COMP%]{position:relative;white-space:nowrap;display:flex;align-items:center}.holiday[_ngcontent-%COMP%]   .cleft[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{position:absolute;top:50%;left:-5px;transform:translate(-100%,-50%)}.holiday[_ngcontent-%COMP%]   .cright[_ngcontent-%COMP%]{font-weight:500}"]})};var Kt={1:v("_weibo"),2:"V2EX",3:v("_douyin"),4:v("_bilibili"),5:v("_juejin"),6:v("_baidu"),7:"GitHub",8:v("_52"),9:v("_hongshu"),10:v("_toutiao"),11:v("_douban")};var gt=class i{constructor(){}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=O({type:i,selectors:[["app-loading"]],decls:2,vars:0,consts:[["viewBox","25 25 50 50",1,"cc1"],["cx","50","cy","50","r","20","fill","none",1,"cc2"]],template:function(e,t){e&1&&(St(),f(0,"svg",0),H(1,"circle",1),m())},styles:[".cc1[_ngcontent-%COMP%]{z-index:2;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:15px;height:15px;animation:my-rotatex1 2s linear infinite}.cc2[_ngcontent-%COMP%]{stroke-dasharray:90,150;stroke-dashoffset:0;stroke-width:5;stroke:#6d8ba7;stroke-linecap:round;animation:loading-dashx2 1.5s ease-in-out infinite}"],changeDetection:0})};var ye=["parent"],ve=["item"];function _e(i,n){if(i&1){let e=Ct();f(0,"div",9,1),it("mouseenter",function(){let g=vt(e).index,b=I();return _t(b.onMouseEnter(g))}),u(2),m()}if(i&2){let e=n.$implicit,t=n.index,g=I();W("active",t===g.activeIndex),c(2),S(" ",g.newsTypeMap[e]," ")}}function Ce(i,n){i&1&&H(0,"app-loading")}function xe(i,n){if(i&1&&(f(0,"div",10),u(1),m()),i&2){let e=I();c(),S(" ",e.$t("_noNews")," ")}}function Me(i,n){if(i&1&&(f(0,"span",15),u(1),m()),i&2){let e=I().$implicit;c(),x(e.hot)}}function we(i,n){if(i&1){let e=Ct();f(0,"div",11),it("click",function(g){let b=vt(e).$implicit,Y=I();return _t(Y.jumpService.goUrl(g,b.url))}),f(1,"span",12),u(2),m(),f(3,"span",13),u(4),m(),N(5,Me,2,1,"span",14),m()}if(i&2){let e=n.$implicit,t=n.index;c(2),x(t+1),c(2),x(e.text),c(),P("ngIf",e.hot)}}var te=class i{constructor(n){this.jumpService=n;let e=localStorage.getItem(q.NEWS);if(e)try{this.newsListMap=JSON.parse(e)}catch{}}parentElement;items;data;$t=v;newsTypeMap=Kt;activeIndex=0;newsListMap={};loading=!1;get newsList(){let n=this.data.types;return this.newsListMap[n[this.activeIndex]]||[]}ngOnChanges(){this.getNews()}onMouseEnter(n){this.activeIndex=n,this.scrollIntoViewTabs()}scrollIntoViewTabs(){Wt(this.parentElement.nativeElement,this.items.toArray()[this.activeIndex].nativeElement,{behavior:"smooth"})}getNews(){let n=this.data.types;if(!n||n.length<=0){localStorage.removeItem(q.NEWS),localStorage.removeItem(q.NEWS_DATE);return}let e=Date.now(),t=Number(localStorage.getItem(q.NEWS_DATE));t&&e-t<36e5||(this.newsList.length<=0&&(this.loading=!0),Jt(pt({},this.data)).then(g=>{this.newsListMap=pt(pt({},this.newsListMap),g.data),localStorage.setItem(q.NEWS,JSON.stringify(this.newsListMap)),localStorage.setItem(q.NEWS_DATE,JSON.stringify(Date.now()))}).finally(()=>{this.loading=!1}))}trackByItem(n,e){return e.text}static \u0275fac=function(e){return new(e||i)(mt(ut))};static \u0275cmp=O({type:i,selectors:[["app-news"]],viewQuery:function(e,t){if(e&1&&(ot(ye,5),ot(ve,5)),e&2){let g;at(g=rt())&&(t.parentElement=g.first),at(g=rt())&&(t.items=g)}},inputs:{data:"data"},features:[F],decls:8,vars:7,consts:[["parent",""],["item",""],[1,"news","citems","family"],[1,"tabs","hidden-scrollbar"],["class","tab",3,"active","mouseenter",4,"ngFor","ngForOf"],[1,"content-box","hidden-scrollbar"],[4,"ngIf"],["class","nodata",4,"ngIf"],["class","content ellipsis",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"tab",3,"mouseenter"],[1,"nodata"],[1,"content","ellipsis",3,"click"],[1,"mr-2","n"],[1,"mid","ellipsis"],["class","ml-2.5",4,"ngIf"],[1,"ml-2.5"]],template:function(e,t){e&1&&(f(0,"div",2)(1,"div",3,0),N(3,_e,3,3,"div",4),m(),f(4,"div",5),N(5,Ce,1,0,"app-loading",6)(6,xe,2,1,"div",7)(7,we,6,3,"div",8),m()()),e&2&&(_("zoom",t.data.zoom),c(3),P("ngForOf",t.data.types),c(2),P("ngIf",t.loading),c(),P("ngIf",!t.loading&&t.newsList.length===0),c(),P("ngForOf",t.newsList)("ngForTrackBy",t.trackByItem))},dependencies:[X,ft,Z,gt],styles:[".news[_ngcontent-%COMP%]{position:relative;width:310px;height:var(--componentHeight)!important;max-height:100%;border-radius:12px;overflow:hidden;box-shadow:0 0 15px #0003;background:linear-gradient(100deg,#2a2d38,#535a68);color:#fff;padding:10px 10px 0;font-size:12px;display:flex;flex-direction:column}.news[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{display:flex;column-gap:4px;white-space:nowrap;overflow:hidden;overflow-x:auto}.news[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{border-radius:4px;padding:2px 4px;cursor:pointer;transition:all .2s linear}.news[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{background-color:#fff2}.news[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%]{position:relative;flex:1;overflow:hidden;overflow-y:auto;padding:10px 0;color:#f1f1f1}.news[_ngcontent-%COMP%]   .nodata[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#aeaeae}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]:not(:last-child){margin-bottom:4px}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]:hover{opacity:.9}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]:nth-child(1)   .n[_ngcontent-%COMP%]{color:#fff}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]:nth-child(2)   .n[_ngcontent-%COMP%]{color:#ffffffe6}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]:nth-child(3)   .n[_ngcontent-%COMP%]{color:#fffc}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .mid[_ngcontent-%COMP%]{flex:1}.news[_ngcontent-%COMP%]   .n[_ngcontent-%COMP%]{color:#969c9c}"]})};export{At as a,Qt as b,Bt as c,qt as d,Ot as e,Gt as f,Zt as g,Xt as h,Kt as i,te as j};
